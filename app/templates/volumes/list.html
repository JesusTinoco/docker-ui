{% extends "layout.html" %}
{% block body %}
  <div id="main-section-name">
    <h1>Volumes</h1>
  </div>
  <div id="flash-message">
    {% for category, message in get_flashed_messages(with_categories=true) %}
      <div class="alert alert-dismissable alert-{{ category }}">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
      </div>
    {% endfor %}
  </div>
  <div id="search" class="col-lg-6">
    <form method="get" role="form">
      <div class="input-group">
        <input class="form-control input-xs" name="q" placeholder="Search..." value="{{ request.args.get('q', '') }}" />
        <span class="input-group-btn">
          <button class="btn btn-default" type="submit">Search!</button>
        </span>
      </div>
    </form>
  </div>
  <div id="volumes-list">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Mount point</th>
          <th>Driver</th>
          <th>Label</th>
          <th>Name</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for volume in volumes -%}
          <tr>
            <td>{{ volume.mount_point() }}</td>
            <td>{{ volume.driver() }}</td>
            <td>{{ volume.label() }}</td>
            <td>{{ volume.name() }}</td>
            <td>
              <form action="{{ url_for('volumes.remove_volume', volume_name=volume.name()) }}" method="post">
                <button type="submit" class="btn btn-danger button-container-action">
                  <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remove
                </button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
